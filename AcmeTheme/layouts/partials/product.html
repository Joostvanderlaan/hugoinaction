{{$return := newScratch}}

{{$products := resources.GetMatch "products.csv"}}
  {{$parsedProducts := $products | transform.Unmarshal (dict "delimiter" ",")}}
  {{ range $r := $parsedProducts }}
    {{ $return.SetInMap (index $r 0) "colors" (index $r 1) }}
    {{ $return.SetInMap (index $r 0) "price" (index $r 2) }}
    {{ $return.SetInMap (index $r 0) "rating" (index $r 3) }}
  {{ end }}

{{return $return}}
